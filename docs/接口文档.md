# 毕业论文管理系统接口文档

## 1. 接口设计概述

本接口文档基于RESTful API设计风格，使用HTTP方法（GET、POST、PUT、DELETE）实现对资源的操作。所有接口返回JSON格式数据，统一的响应结构包含状态码、消息和数据。

### 1.1 响应结构

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {}
}
```

### 1.2 状态码

| 状态码 | 描述 |
| :--- | :--- |
| 200 | 操作成功 |
| 400 | 请求参数错误 |
| 401 | 未授权 |
| 403 | 禁止访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

## 2. 认证接口

### 2.1 用户注册

**请求路径**：`/api/auth/register`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `username` | `String` | 是 | 用户名（学号/工号） |
| `password` | `String` | 是 | 密码 |
| `name` | `String` | 是 | 姓名 |
| `role` | `String` | 是 | 角色（teacher/student） |

**返回数据**：

```json
{
  "code": 200,
  "message": "注册成功",
  "data": {
    "user_id": 1,
    "username": "2020001",
    "name": "张三",
    "role": "student"
  }
}
```

### 2.2 用户登录

**请求路径**：`/api/auth/login`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `username` | `String` | 是 | 用户名（学号/工号/管理员账号） |
| `password` | `String` | 是 | 密码 |

**返回数据**：

```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "user_id": 1,
      "username": "2020001",
      "name": "张三",
      "role": "student",
      "department": "计算机学院",
      "major": "计算机科学与技术"
    }
  }
}
```

### 2.3 刷新Token

**请求路径**：`/api/auth/refresh`

**请求方法**：`POST`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "刷新成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

## 3. 用户管理接口

### 3.1 获取用户列表

**请求路径**：`/api/users`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `role` | `String` | 否 | 角色 |
| `department` | `String` | 否 | 院系 |
| `major` | `String` | 否 | 专业 |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 100,
    "records": [
      {
        "user_id": 1,
        "username": "2020001",
        "name": "张三",
        "role": "student",
        "department": "计算机学院",
        "major": "计算机科学与技术",
        "contact": "13800138000"
      }
    ]
  }
}
```

### 3.2 获取用户详情

**请求路径**：`/api/users/{id}`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "user_id": 1,
    "username": "2020001",
    "name": "张三",
    "role": "student",
    "department": "计算机学院",
    "major": "计算机科学与技术",
    "contact": "13800138000"
  }
}
```

### 3.3 更新用户信息

**请求路径**：`/api/users/{id}`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `name` | `String` | 否 | 姓名 |
| `department` | `String` | 否 | 院系 |
| `major` | `String` | 否 | 专业 |
| `contact` | `String` | 否 | 联系方式 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "更新成功",
  "data": {
    "user_id": 1,
    "username": "2020001",
    "name": "张三",
    "role": "student",
    "department": "计算机学院",
    "major": "计算机科学与技术",
    "contact": "13800138000"
  }
}
```

### 3.4 删除用户

**请求路径**：`/api/users/{id}`

**请求方法**：`DELETE`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```

### 3.5 重置用户密码

**请求路径**：`/api/users/{id}/reset-password`

**请求方法**：`PUT`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "重置成功",
  "data": {
    "username": "2020001",
    "password": "123456"
  }
}
```

## 4. 师生互选接口

### 4.1 获取导师列表

**请求路径**：`/api/teachers`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `department` | `String` | 否 | 院系 |
| `major` | `String` | 否 | 专业 |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 50,
    "records": [
      {
        "user_id": 101,
        "username": "T2020001",
        "name": "李老师",
        "department": "计算机学院",
        "major": "计算机科学与技术",
        "contact": "13900139000",
        "student_count": 5,
        "max_students": 10
      }
    ]
  }
}
```

### 4.2 提交导师申请

**请求路径**：`/api/selection/apply`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `teacher_id` | `Long` | 是 | 导师ID |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "申请成功",
  "data": {
    "selection_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "status": "待审核",
    "apply_time": "2026-02-01 10:00:00"
  }
}
```

### 4.3 获取学生申请列表

**请求路径**：`/api/selection/applications`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `status` | `String` | 否 | 状态（待审核/已接受/已拒绝） |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 10,
    "records": [
      {
        "selection_id": 1,
        "student": {
          "user_id": 1,
          "username": "2020001",
          "name": "张三",
          "department": "计算机学院",
          "major": "计算机科学与技术"
        },
        "status": "待审核",
        "apply_time": "2026-02-01 10:00:00"
      }
    ]
  }
}
```

### 4.4 审核学生申请

**请求路径**：`/api/selection/approve/{id}`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `status` | `String` | 是 | 审核状态（已接受/已拒绝） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "selection_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "status": "已接受",
    "review_time": "2026-02-01 11:00:00",
    "bind_time": "2026-02-01 11:00:00"
  }
}
```

### 4.5 解除绑定关系

**请求路径**：`/api/selection/unbind/{id}`

**请求方法**：`PUT`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "申请成功",
  "data": {
    "selection_id": 1,
    "status": "待审核",
    "apply_time": "2026-02-02 10:00:00"
  }
}
```

**说明**：
- 互选截止时间前：解除绑定请求会立即生效，状态变为"已解除"
- 互选截止时间后：解除绑定请求需要管理员审核，状态变为"待审核"

### 4.6 获取绑定的师生关系

**请求路径**：`/api/selection/bindings`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": [
    {
      "selection_id": 1,
      "student": {
        "user_id": 1,
        "username": "2020001",
        "name": "张三"
      },
      "teacher": {
        "user_id": 101,
        "username": "T2020001",
        "name": "李老师"
      },
      "bind_time": "2026-02-01 11:00:00"
    }
  ]
}
```

### 4.7 管理员审核师生互选申请

**请求路径**：`/api/selection/admin/approve/{id}`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `status` | `String` | 是 | 审核状态（已接受/已拒绝） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "selection_id": 1,
    "status": "已接受",
    "review_time": "2026-02-02 11:00:00"
  }
}
```

**说明**：
- 仅管理员可调用此接口
- 用于审核互选截止时间后的解除绑定和重新选择导师申请

## 5. 论文管理接口

### 5.1 提交选题

**请求路径**：`/api/topics/submit`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `topic_name` | `String` | 是 | 选题名称 |
| `topic_description` | `String` | 是 | 选题描述 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "提交成功",
  "data": {
    "topic_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "topic_name": "基于Spring Boot的毕业论文管理系统设计与实现",
    "topic_description": "本课题旨在设计并实现一个基于Spring Boot的毕业论文管理系统...",
    "submit_time": "2026-02-03 10:00:00",
    "review_status": null
  }
}
```

### 5.2 获取选题列表

**请求路径**：`/api/topics`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `student_id` | `Long` | 否 | 学生ID |
| `teacher_id` | `Long` | 否 | 教师ID |
| `review_status` | `String` | 否 | 审核状态（通过/不通过） |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 20,
    "records": [
      {
        "topic_id": 1,
        "student": {
          "user_id": 1,
          "username": "2020001",
          "name": "张三"
        },
        "teacher": {
          "user_id": 101,
          "username": "T2020001",
          "name": "李老师"
        },
        "topic_name": "基于Spring Boot的毕业论文管理系统设计与实现",
        "submit_time": "2026-02-03 10:00:00",
        "review_status": "通过",
        "review_time": "2026-02-03 14:00:00"
      }
    ]
  }
}
```

### 5.3 审核选题

**请求路径**：`/api/topics/{id}/review`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `review_status` | `String` | 是 | 审核状态（通过/不通过） |
| `review_opinion` | `String` | 否 | 审核意见 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "topic_id": 1,
    "review_status": "通过",
    "review_opinion": "选题符合要求，同意",
    "review_time": "2026-02-03 14:00:00"
  }
}
```

### 5.4 下达任务书

**请求路径**：`/api/tasks/issue`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `topic_id` | `Long` | 是 | 选题ID |
| `file_path` | `String` | 是 | 任务书文件路径 |
| `deadline` | `String` | 是 | 截止时间（YYYY-MM-DD HH:mm:ss） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "下达成功",
  "data": {
    "task_id": 1,
    "topic_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "file_path": "/uploads/tasks/20260203/1_task.pdf",
    "issue_time": "2026-02-03 15:00:00",
    "deadline": "2026-03-01 23:59:59"
  }
}
```

### 5.5 获取任务书

**请求路径**：`/api/tasks/{id}`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "task_id": 1,
    "topic_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "file_path": "/uploads/tasks/20260203/1_task.pdf",
    "issue_time": "2026-02-03 15:00:00",
    "deadline": "2026-03-01 23:59:59"
  }
}
```

### 5.6 提交开题报告

**请求路径**：`/api/proposals/submit`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `topic_id` | `Long` | 是 | 选题ID |
| `file_path` | `String` | 是 | 文件路径 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "提交成功",
  "data": {
    "report_id": 1,
    "topic_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "file_path": "/uploads/proposals/20260204/1_proposal.pdf",
    "submit_time": "2026-02-04 10:00:00",
    "review_status": null
  }
}
```

### 5.7 审核开题报告

**请求路径**：`/api/proposals/{id}/review`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `review_status` | `String` | 是 | 审核状态（通过/不通过） |
| `review_opinion` | `String` | 否 | 审核意见 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "report_id": 1,
    "review_status": "通过",
    "review_opinion": "开题报告符合要求，同意",
    "review_time": "2026-02-04 14:00:00"
  }
}
```

### 5.8 提交中期检查报告

**请求路径**：`/api/midterms/submit`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `topic_id` | `Long` | 是 | 选题ID |
| `file_path` | `String` | 是 | 文件路径 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "提交成功",
  "data": {
    "report_id": 1,
    "topic_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "file_path": "/uploads/midterms/20260215/1_midterm.pdf",
    "submit_time": "2026-02-15 10:00:00",
    "review_status": null
  }
}
```

### 5.9 审核中期检查报告

**请求路径**：`/api/midterms/{id}/review`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `review_status` | `String` | 是 | 审核状态（通过/不通过） |
| `review_opinion` | `String` | 否 | 审核意见 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "report_id": 1,
    "review_status": "通过",
    "review_opinion": "中期检查通过，继续完成后续工作",
    "review_time": "2026-02-15 14:00:00"
  }
}
```

### 5.10 提交论文

**请求路径**：`/api/papers/submit`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `topic_id` | `Long` | 是 | 选题ID |
| `file_path` | `String` | 是 | 文件路径 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "提交成功",
  "data": {
    "paper_id": 1,
    "topic_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "file_path": "/uploads/papers/20260301/1_paper.pdf",
    "submit_time": "2026-03-01 10:00:00",
    "review_status": null
  }
}
```

### 5.11 审核论文

**请求路径**：`/api/papers/{id}/review`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `review_status` | `String` | 是 | 审核状态（通过/不通过） |
| `review_opinion` | `String` | 否 | 审核意见 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "paper_id": 1,
    "review_status": "通过",
    "review_opinion": "论文符合要求，同意答辩",
    "review_time": "2026-03-02 14:00:00"
  }
}
```

## 6. 文件管理接口

### 6.1 上传文件

**请求路径**：`/api/files/upload`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `file` | `File` | 是 | 文件 |
| `related_id` | `Long` | 是 | 关联ID（如选题ID、开题报告ID等） |
| `file_type` | `String` | 是 | 文件类型 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |
| `Content-Type` | `multipart/form-data` |

**返回数据**：

```json
{
  "code": 200,
  "message": "上传成功",
  "data": {
    "file_id": 1,
    "file_name": "开题报告.pdf",
    "file_path": "/uploads/proposals/20260204/1_proposal.pdf",
    "uploader_id": 1,
    "receiver_id": 101,
    "file_type": "proposal",
    "version": 1,
    "sync_status": "pending",
    "upload_time": "2026-02-04 10:00:00"
  }
}
```

### 6.2 下载文件

**请求路径**：`/api/files/download/{id}`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：文件流

### 6.3 获取文件列表

**请求路径**：`/api/files`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `related_id` | `Long` | 否 | 关联ID |
| `file_type` | `String` | 否 | 文件类型 |
| `sync_status` | `String` | 否 | 同步状态（pending/synced） |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 20,
    "records": [
      {
        "file_id": 1,
        "file_name": "开题报告.pdf",
        "file_path": "/uploads/proposals/20260204/1_proposal.pdf",
        "uploader_id": 1,
        "receiver_id": 101,
        "file_type": "proposal",
        "version": 1,
        "sync_status": "synced",
        "upload_time": "2026-02-04 10:00:00"
      }
    ]
  }
}
```

### 6.4 同步文件

**请求路径**：`/api/files/sync`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "同步成功",
  "data": [
    {
      "file_id": 1,
      "file_name": "开题报告.pdf",
      "file_path": "/uploads/proposals/20260204/1_proposal.pdf",
      "uploader_id": 1,
      "file_type": "proposal",
      "version": 1,
      "upload_time": "2026-02-04 10:00:00"
    }
  ]
}
```

### 6.5 更新同步状态

**请求路径**：`/api/files/{id}/sync`

**请求方法**：`PUT`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "更新成功",
  "data": {
    "file_id": 1,
    "sync_status": "synced"
  }
}
```

## 7. 进度管理接口

### 7.1 获取个人进度

**请求路径**：`/api/progress/me`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "progress_id": 1,
    "student_id": 1,
    "teacher_id": 101,
    "topic_status": "通过",
    "task_status": "已下达",
    "proposal_status": "通过",
    "midterm_status": "通过",
    "paper_status": "待审核",
    "updated_time": "2026-03-01 10:00:00"
  }
}
```

### 7.2 获取学生进度列表

**请求路径**：`/api/progress/students`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `teacher_id` | `Long` | 是 | 教师ID |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 10,
    "records": [
      {
        "progress_id": 1,
        "student": {
          "user_id": 1,
          "username": "2020001",
          "name": "张三"
        },
        "teacher_id": 101,
        "topic_status": "通过",
        "task_status": "已下达",
        "proposal_status": "通过",
        "midterm_status": "通过",
        "paper_status": "待审核",
        "updated_time": "2026-03-01 10:00:00"
      }
    ]
  }
}
```

## 8. 系统管理接口

### 8.1 获取系统设置

**请求路径**：`/api/system/settings`

**请求方法**：`GET`

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": [
    {
      "setting_id": 1,
      "stage_name": "选题",
      "start_time": "2026-01-01 00:00:00",
      "end_time": "2026-02-10 23:59:59"
    },
    {
      "setting_id": 2,
      "stage_name": "开题",
      "start_time": "2026-02-11 00:00:00",
      "end_time": "2026-02-20 23:59:59"
    }
  ]
}
```

### 8.2 更新系统设置

**请求路径**：`/api/system/settings/{id}`

**请求方法**：`PUT`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `start_time` | `String` | 是 | 开始时间（YYYY-MM-DD HH:mm:ss） |
| `end_time` | `String` | 是 | 截止时间（YYYY-MM-DD HH:mm:ss） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "更新成功",
  "data": {
    "setting_id": 1,
    "stage_name": "选题",
    "start_time": "2026-01-01 00:00:00",
    "end_time": "2026-02-10 23:59:59"
  }
}
```

### 8.3 发布通知

**请求路径**：`/api/system/notifications`

**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `title` | `String` | 是 | 标题 |
| `content` | `String` | 是 | 内容 |
| `receive_role` | `String` | 是 | 接收角色（admin/teacher/student/all） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "发布成功",
  "data": {
    "notification_id": 1,
    "title": "关于2026届毕业论文工作安排的通知",
    "content": "各位同学：2026届毕业论文工作即将开始，请大家按时完成相关任务...",
    "publisher_id": 1,
    "receive_role": "all",
    "publish_time": "2026-01-01 10:00:00"
  }
}
```

### 8.4 获取通知列表

**请求路径**：`/api/system/notifications`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 5,
    "records": [
      {
        "notification_id": 1,
        "title": "关于2026届毕业论文工作安排的通知",
        "content": "各位同学：2026届毕业论文工作即将开始，请大家按时完成相关任务...",
        "publisher": {
          "user_id": 1,
          "name": "管理员"
        },
        "receive_role": "all",
        "publish_time": "2026-01-01 10:00:00"
      }
    ]
  }
}
```

## 9. 统计分析接口

### 9.1 获取论文统计数据

**请求路径**：`/api/stats/papers`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `department` | `String` | 否 | 院系 |
| `major` | `String` | 否 | 专业 |
| `start_date` | `String` | 否 | 开始日期（YYYY-MM-DD） |
| `end_date` | `String` | 否 | 结束日期（YYYY-MM-DD） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total_papers": 100,
    "passed_papers": 90,
    "rejected_papers": 10,
    "status_distribution": {
      "待审核": 5,
      "通过": 90,
      "不通过": 5
    },
    "department_distribution": {
      "计算机学院": 40,
      "电子学院": 30,
      "机械学院": 30
    }
  }
}
```

### 9.2 获取导师工作量统计

**请求路径**：`/api/stats/teachers`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `department` | `String` | 否 | 院系 |
| `page` | `Integer` | 否 | 页码，默认1 |
| `size` | `Integer` | 否 | 每页大小，默认10 |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：

```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "total": 50,
    "records": [
      {
        "teacher_id": 101,
        "name": "李老师",
        "department": "计算机学院",
        "student_count": 10,
        "papers_count": 10,
        "passed_count": 9,
        "rejected_count": 1
      }
    ]
  }
}
```

### 9.3 导出统计报表

**请求路径**：`/api/stats/export`

**请求方法**：`GET`

**请求参数**：

| 参数名 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `type` | `String` | 是 | 报表类型（paper/teacher） |
| `format` | `String` | 是 | 导出格式（excel/pdf） |

**请求头**：

| 头名称 | 值 |
| :--- | :--- |
| `Authorization` | `Bearer {token}` |

**返回数据**：文件流